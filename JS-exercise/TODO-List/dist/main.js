(()=>{"use strict";class e{constructor(e,t){this.name=e,this.set=[],this.set.push(t)}addItem(e){this.set.push(e)}}class t{constructor(e,t){this.name=e,this.note=t}}class n{save(e,t){localStorage.setItem(e,JSON.stringify(t))}saveB(n,o){const a=this.loadOne(n);a.wardrobe==o[0]?a.wardrobe[o[0]].push(new t(o[1],o[2])):(a.wardrobe.push(new e(o[0],new t(o[1],o[2]))),this.save(n,a))}load(){const e=[];for(let t=0;t<localStorage.length;t++)e.push(Object.assign(JSON.parse(localStorage.getItem(localStorage.key(t)))));return e}consoleLogLocalStorage(){for(let e=0;e<localStorage.length;e++){const t=JSON.parse(localStorage.getItem(localStorage.key(e)));console.log(t)}}remove(e){localStorage.removeItem(e),this.load()}loadOne(e){for(let t=0;t<localStorage.length;t++){const n=JSON.parse(localStorage.getItem(localStorage.key(t)));if(n.name===e)return n}return-1}}class o{constructor(e,t){this.name=e,this.wardrobe=[],void 0!==t&&this.wardrobe.push(t)}getName(){return this.name}addWardobeItem(n,o,a){this.wardrobe.push(new e(n,new t(o,a)))}getWardrobeItem(e){console.log(e),this.wardrobe.forEach((t=>{e!==t.name?console.log(`no items found under the name ${e}`):t.set.forEach((e=>{console.log(`the item/s you were looking for is: ${e.name} note:${e.note} `)}))}))}getAllWardrobeForPerson(){this.wardrobe!=[]?this.wardrobe.forEach((e=>{e.set.forEach((t=>{console.log(`${e.name} name: ${t.name}. note: ${t.note}.`)}))})):console.log("no items to show")}}const a=document.getElementById("container"),r=document.getElementById("hikersContainer"),l=new n;new n,(new class{init(){this.createHiker(),this.loadHikers()}createHiker(){const e=document.createElement("div");e.style.display="none";let t=document.createElement("button");t.textContent="Add a new Hiker",t.setAttribute("title","click to add a new hiker");let n=document.createElement("button");n.textContent="OK",n.setAttribute("title","confirm name");let r=document.createElement("INPUT");r.setAttribute("type","text"),e.appendChild(r),e.appendChild(n),a.appendChild(t),a.appendChild(e),t.addEventListener("click",(()=>{e.style.display="flex"})),n.addEventListener("click",(()=>{this.createElementOnScreen(r.value),l.save(r.value,new o(r.value)),e.style.display="none",r.value=""})),document.addEventListener("click",(e=>{"addWardrobe"==e.target.id&&e.target.parentElement.appendChild(this.createSelection(e.target.parentElement.id))}))}createElementOnScreen(e){const t=document.createElement("div");t.setAttribute("id",e),t.setAttribute("class","hiker"),t.textContent=e;const n=document.createElement("div");n.setAttribute("id","addWardrobe"),n.setAttribute("title","add an element to the hiker"),n.textContent="A",n.style.float="right",n.style.display="inline-block",t.appendChild(this.addRemoveButton()),t.appendChild(n),r.appendChild(t)}addRemoveButton(){const e=document.createElement("div");return e.textContent="X",e.setAttribute("id","remove"),e.setAttribute("title","close the tab"),e.style.float="right",e.style.display="inline-block",document.addEventListener("click",(e=>{"remove"==e.target.id&&"item"==e.target.parentElement.id&&(l.remove(e.target.parentElement.class),console.log()),"remove"==e.target.id&&(e.target.parentElement.style.display="none",l.remove(e.target.parentElement.id))})),e}loadHikers(){l.load().forEach((e=>{this.createElementOnScreen(e.name);for(let t=0;t<e.wardrobe.length;t++){const n=document.createElement("div");n.setAttribute("id","item"),n.setAttribute("class",e.wardrobe[t].set[0].name),n.textContent=e.wardrobe[t].name+": "+e.wardrobe[t].set[0].name+" // "+e.wardrobe[t].set[0].note,n.appendChild(this.addRemoveButton()),document.getElementById(e.name).appendChild(n)}}))}createSelection(e){const t=document.createElement("div");t.setAttribute("id","element");const n=document.createElement("select");n.setAttribute("id","select");const o=document.createElement("option"),a=document.createElement("option"),r=document.createElement("option"),d=document.createElement("option"),i=document.createElement("option");o.textContent="Head",a.textContent="Body",r.textContent="Bottom",d.textContent="Shoes",i.textContent="Extra",n.appendChild(o),n.appendChild(a),n.appendChild(r),n.appendChild(d),n.appendChild(i);let s=document.createElement("INPUT");s.setAttribute("type","text"),s.setAttribute("id","inputName");let c=document.createElement("INPUT");c.setAttribute("type","text"),c.setAttribute("id","inputNote");let m=document.createElement("button");return m.textContent="Confirm",m.setAttribute("id","confirm"),m.setAttribute("title","confirm selection"),document.addEventListener("click",(o=>{if("confirm"==o.target.id&&""!=c.value&&0!=s.value){const o=e,a=n.value,r=s.value,d=c.value,i=document.createElement("div");i.textContent=a+": "+r+" // "+d,l.saveB(o,[a,r,d]),i.appendChild(this.addRemoveButton()),document.getElementById(e).appendChild(i),t.remove(),s.value=c.value=""}})),t.appendChild(n),t.appendChild(s),t.appendChild(c),t.appendChild(m),t.appendChild(this.addRemoveButton()),t}}).init()})();